@using XFramework.Client.Shared.Core.Services.Interface
@using IdentityServer.Integration.Drivers

<CascadingValue Value="this">
    @if (ApplicationState.NotificationCount > 0)
    {
        for (int i = 0; i < ApplicationState.NotificationCount; i++)
        {
            <audio autoplay controls style="position: absolute; top: -100px"><source src="_content/XFramework.Client.Shared/media/notification.mp3" /></audio>
        }
    }
    
    @if (ApplicationState.StateRestored)
    {
        @Body
    }

    @code
    {
        [Inject] public IIdentityServerServiceWrapper? IdentityServiceWrapper { get; set; }

        [Inject] public IBootstrapService? BootstrapService { get; set; }
    }

</CascadingValue>

